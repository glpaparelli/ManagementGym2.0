<!DOCTYPE html>
<!--
Inserire la riga con il calcolo imc.
-->
<html>
    <head>
        <title>ManagementGym2.0</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://code.angularjs.org/1.4.3/angular.js" type="text/javascript"></script>
        <script src="https://code.angularjs.org/1.4.3/angular-resource.js" type="text/javascript"></script>
        <script src="https://code.angularjs.org/1.4.3/angular-route.js" type="text/javascript"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <script src="../controllers/subscribedController.js" type="text/javascript"></script>
        <script src="../controllers/urlSubscribed.js" type="text/javascript"></script>
    </head>
    <body ng-controller="subscribedCtrl">
        <nav class="navbar navbar-default">
            <p class="navbar-text"><h1>Management Gym 2.0</h1> </p>
    </nav>
    <div class="panel panel-default row" >
        <div class="col-xs-8">

            <table class="table table-striped table-bordered">
                <tr>
                    <td>Username </td>
                    <td>{{data.username}}</td>
                </tr>
                <tr>
                    <td>Age </td>
                    <td>{{data.age}}</td>
                </tr>
                <tr>
                    <td>Telephone number </td>
                    <td>{{data.telephonnumber}}</td>
                </tr>
                <tr>
                    <td>Weight </td>
                    <td>
                        <input type="text" ng-model="data.weight" ng-change="button1=true">
                        <input type="button" ng-show="button1" ng-hide="!button1" ng-click="aggiorna('button1', data.weight, 'weight')" value="Salva"/>
                    </td>
                </tr>
                <tr>
                    <td>Height </td>
                    <td>
                        <input type="text" ng-model="data.height" ng-change="button2=true">
                        <input type="button" ng-show="button2" ng-hide="!button2" ng-click="aggiorna('button2', data.height, 'height')" value="Salva"/>
                    </td>
                </tr>    


                <tr>
                    <td>Board training's name</td>
                    <td>
                        {{data.boardtraining.name}}
                    </td>
                </tr>
                <tr>
                    <td>Board training's description</td>
                    <td>
                        {{data.boardtraining.description}}
                    </td>
                </tr>

                <tr>
                    <td>Subscribtions</td>
                    <td>
                        <ol>
                            <li ng-repeat="sub in data.subscription">
                                Abbonamento di  {{sub.lenght}}  giorni, al costo di  {{sub.price}} â‚¬, attivato il 
                                {{sub.date.toString()}}
                            </li>
                        </ol>
                    </td>
                </tr>
            </table>
            <div class="alert alert-danger" ng-show="error" >
                Errore nell'aggiornamento
                <a href="" class="alert-link" ng-click="reload()">Riprova</a>
            </div>
        </div>
        <div class="col-xs-3">
        <div ng-show="abbonamento" ng-hide="!abbonamento">
            <h3>Rinnova il tuo abbonamento</h3>
            <form name="subscribe" novalidate> 
                <table class="table table-striped">
                    <tr>
                        <td><input type="radio" value='{ "lenght":"1", "price":"5" }' ng-model="sub" required/></td>
                        <td>Giornaliero</td>
                    </tr>
                    <tr>
                       <td><input type="radio" value='{ "lenght":"7", "price":"15" }' ng-model="sub" required></td>
                        <td>Settimanale</td>
                    </tr>
                    <tr>
                        <td><input type="radio" value='{ "lenght":"30", "price":"50" }' ng-model="sub" required/></td>
                        <td>Mensile</td>
                    </tr>
                    <tr>
                        <td><input type="radio" value='{ "lenght":"90", "price":"100" }' ng-model="sub" required/></td>
                        <td>Trimestrale</td>
                    </tr>
                    <tr>
                        <td><input type="radio" value='{ "lenght":"364", "price":"400" }' ng-model="sub" required/></td>
                        <td>Annuale</td>
                    </tr>
                </table>
                <button class="btn btn-primary" ng-disabled="subscribe.$invalid"  ng-click="rinnova()">Rinnova abbonamento</button>
            </form>
        </div>
    </div>
    </div>
    <div class="text-center">
        <button class="btn btn-danger" ng-click="logout()">Logout</button>
    </div>
</body>
</html>
